@model CampusNabber.Models.MarketPlace


@{
    ViewBag.Title = "CategoryView";
}

@section Scripts {
    <script type="text/javascript">
      var mainColor = '@Model.mainSchoolColor';
    </script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/SchoolColor.js")"></script>
}

<link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.11/css/jquery.dataTables.css">
<link rel="stylesheet" type="text/css" href="~/Content/CategorySheet.css">

@Html.EditorForModel(Model)

            <div class="container">
                <div class="panel-group" id="pageWindow">
                    <div class="panel panel-default">
                        <div class="panel-heading"><h2>@Model.chosenCategory</h2></div>
                        <div class="panel-body">
                            <div class="col-sm-2">
                                <fieldset id="priceField" class="myfields">
                                    <div>
                                        <label for="fromPrice">From Price:</label>
                                        <input type="text" id="fromPriceInput" name="fromPriceInput" value="" />
                                    </div>

                                    <div>
                                        <label for="toPrice">To Price:</label>
                                        <input type="text" id="toPriceInput" name="toPriceInput" value="" />
                                    </div>
                                </fieldset>
                            </div>
                            <div class="col-sm-10">

                                <div class="box">
                                    <div class="box-content padded">

                                        <form method="Post" id="Detail1Validate">
                                            <div id="dataTables">
                                                <table id="PostItemTable" align="right" cellpadding="0" cellspacing="20px" border="0" style="font-size: 18px; width:auto; border: 0px solid #d9d9d9">
                                                    <thead>
                                                        <tr>
                                                            <th style="font-weight: bold;">Photo</th>
                                                            <th style="font-weight: bold; text-align:center">Title</th>
                                                            <th style="font-weight: bold; text-align:center">Price</th>

                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <br />
                                            <br />
                                        </form>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        @*
            <div class="modal-footer">
                <button class="btn btn-gray" data-dismiss="modal">Cancel</button>
                <a id="modal-form-search" class="btn btn-primary" onclick="SearchItemHistory();" href="#">Search</a>
            </div>
        *@
        <script>
            function SearchItemHistory() {
                oTable.fnReloadAjax();
            }


            var searchBar = "";

            var oTable;
            $(function () {
                oTable = $('#PostItemTable').dataTable({
                    "sPaginationType": "full_numbers",
                    "bScrollCollapse": true,
                    "bPaginate": true,
                    "bServerSide": true,
                    "iDisplayLength": 10,
                    "scrollCallapse": true,
                    "scrollY": '50vh',
                    "sAjaxSource": "@Url.Action("GetPostItemData", "MarketPlace")", //new { area = "PO" })",
                    "fnServerParams": function (aoData) {
                        aoData.push({ name: "Category", value: '@Model.chosenCategory' });
                    },
                    "bProcessing": true,
                    "aoColumns": [
                        {
                            "mDataProp": "PhotoPath", "sWidth": "10px",
                            "render": function (mDataProp, type, row) {
                                return '<img src="' + mDataProp + '" style="width=10px;height=10px;" />';
                            }
                        },
                        { "mDataProp": "Title", "sWidth": "100px" },
                        { "mDataProp": "Price", "sWidth": "120px" }
                    ]
                });
            });

        </script>

      